<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Quiz — Ancient Indian Science & Technology</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Cormorant+Garamond:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  :root{
    --saffron: #D4AF37;
    --deep-saffron: #B8860B;
    --terracotta: #8B4513;
    --cream: #F5E6D3;
    --ivory: #FFF8E7;
    --gold: #C9A961;
    --navy: #1A2332;
    --deep-navy: #0D1117;
    --sage: #2C5F4F;
    --burgundy: #6B2737;
    --border-gold: #B8860B;
    --text-primary: #2C2416;
    --text-secondary: #5C5346;
  }
  
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }
  
  html, body {
    height: 100%;
    font-family: 'Cormorant Garamond', serif;
    background: linear-gradient(135deg, var(--ivory) 0%, var(--cream) 50%, #FEF3C7 100%);
    color: var(--text-primary);
    line-height: 1.7;
  }
  
  .ornamental-border {
    position: fixed;
    pointer-events: none;
    z-index: 1;
  }
  
  .ornamental-border.top {
    top: 0;
    left: 0;
    right: 0;
    height: 8px;
    background: linear-gradient(90deg, 
      var(--saffron) 0%, 
      var(--gold) 25%, 
      var(--sage) 50%, 
      var(--gold) 75%, 
      var(--saffron) 100%);
  }
  
  .ornamental-border.bottom {
    bottom: 0;
    left: 0;
    right: 0;
    height: 8px;
    background: linear-gradient(90deg, 
      var(--saffron) 0%, 
      var(--gold) 25%, 
      var(--sage) 50%, 
      var(--gold) 75%, 
      var(--saffron) 100%);
  }
  
  .wrap {
    max-width: 1000px;
    margin: 0 auto;
    padding: 40px 32px;
    position: relative;
    z-index: 2;
  }
  
  header {
    text-align: center;
    margin-bottom: 48px;
    padding: 32px;
    background: linear-gradient(135deg, rgba(255,255,255,0.95), rgba(254,243,199,0.9));
    border-radius: 16px;
    border: 3px solid var(--border-gold);
    box-shadow: 0 8px 32px rgba(217, 119, 6, 0.15);
    position: relative;
    overflow: hidden;
  }
  
  header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: repeating-linear-gradient(
      90deg,
      var(--saffron) 0px,
      var(--saffron) 10px,
      transparent 10px,
      transparent 20px
    );
  }
  
  header::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: repeating-linear-gradient(
      90deg,
      var(--saffron) 0px,
      var(--saffron) 10px,
      transparent 10px,
      transparent 20px
    );
  }
  
  .logo {
    display: inline-block;
    background: linear-gradient(135deg, var(--deep-navy), var(--navy));
    color: var(--gold);
    padding: 12px 28px;
    border-radius: 8px;
    font-family: 'Cinzel', serif;
    font-weight: 700;
    font-size: 18px;
    letter-spacing: 2px;
    margin-bottom: 16px;
    border: 2px solid var(--gold);
    box-shadow: 0 4px 12px rgba(245, 158, 11, 0.3);
  }
  
  h1 {
    font-family: 'Cinzel', serif;
    font-size: 36px;
    font-weight: 700;
    color: var(--burgundy);
    margin: 16px 0 12px;
    letter-spacing: 1px;
    text-shadow: 1px 1px 2px rgba(124, 45, 18, 0.1);
  }
  
  .subtitle {
    font-size: 18px;
    color: var(--text-secondary);
    font-weight: 500;
  }
  
  .card {
    background: linear-gradient(135deg, rgba(255,255,255,0.98), rgba(255,251,235,0.95));
    border-radius: 12px;
    border: 2px solid var(--border-gold);
    box-shadow: 0 8px 24px rgba(217, 119, 6, 0.12);
    padding: 32px;
    margin-bottom: 24px;
    position: relative;
  }
  
  .card::before {
    content: '❋';
    position: absolute;
    top: 12px;
    left: 12px;
    font-size: 20px;
    color: var(--gold);
    opacity: 0.4;
  }
  
  .card::after {
    content: '❋';
    position: absolute;
    top: 12px;
    right: 12px;
    font-size: 20px;
    color: var(--gold);
    opacity: 0.4;
  }
  
  .section-title {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 24px;
    padding-bottom: 16px;
    border-bottom: 2px solid var(--gold);
  }
  
  .section-title h2 {
    font-family: 'Cinzel', serif;
    font-size: 24px;
    font-weight: 600;
    color: var(--burgundy);
    margin: 0;
    letter-spacing: 0.5px;
  }
  
  .muted {
    color: var(--text-secondary);
    font-size: 15px;
    font-style: italic;
  }
  
  label {
    display: block;
    font-weight: 600;
    margin-bottom: 10px;
    color: var(--text-primary);
    font-size: 17px;
  }
  
  input[type="text"], 
  input[type="email"], 
  select, 
  textarea {
    width: 100%;
    padding: 14px 16px;
    border-radius: 8px;
    border: 2px solid var(--border-gold);
    font-size: 16px;
    font-family: 'Cormorant Garamond', serif;
    background: rgba(255, 255, 255, 0.9);
    color: var(--text-primary);
    transition: all 0.3s ease;
  }
  
  input[type="text"]:focus, 
  input[type="email"]:focus, 
  select:focus, 
  textarea:focus {
    outline: none;
    border-color: var(--deep-saffron);
    box-shadow: 0 0 0 3px rgba(217, 119, 6, 0.1);
    background: white;
  }
  
  .row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
  }
  
  .question {
    margin-bottom: 20px;
  }
  
  .q-title {
    font-weight: 600;
    margin-bottom: 16px;
    font-size: 19px;
    color: var(--text-primary);
    line-height: 1.6;
  }
  
  .small {
    font-size: 14px;
    color: var(--text-secondary);
    font-style: italic;
  }
  
  .options {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  
  .opt label {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 14px 16px;
    border-radius: 8px;
    border: 2px solid rgba(217, 119, 6, 0.3);
    background: rgba(255, 255, 255, 0.6);
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 400;
    font-size: 16px;
  }
  
  .opt label:hover {
    border-color: var(--deep-saffron);
    background: rgba(255, 251, 235, 0.9);
    transform: translateX(4px);
  }
  
  .opt input[type="radio"]:checked + label,
  .opt input[type="checkbox"]:checked + label,
  .opt label:has(input:checked) {
    border-color: var(--sage);
    background: linear-gradient(135deg, rgba(5, 150, 105, 0.1), rgba(5, 150, 105, 0.05));
    font-weight: 600;
  }
  
  input[type="radio"],
  input[type="checkbox"] {
    width: 20px;
    height: 20px;
    accent-color: var(--sage);
    cursor: pointer;
  }
  
  .btn {
    display: inline-block;
    padding: 14px 32px;
    border-radius: 8px;
    background: linear-gradient(135deg, var(--deep-saffron), var(--saffron));
    color: white;
    border: none;
    font-weight: 700;
    font-size: 17px;
    font-family: 'Cinzel', serif;
    letter-spacing: 0.5px;
    cursor: pointer;
    box-shadow: 0 6px 20px rgba(217, 119, 6, 0.3);
    transition: all 0.3s ease;
    text-decoration: none;
  }
  
  .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(217, 119, 6, 0.4);
  }
  
  .btn:active {
    transform: translateY(0);
  }
  
  .btn.secondary {
    background: linear-gradient(135deg, var(--ivory), white);
    color: var(--burgundy);
    border: 2px solid var(--border-gold);
    box-shadow: 0 4px 12px rgba(217, 119, 6, 0.15);
  }
  
  .btn.secondary:hover {
    background: linear-gradient(135deg, var(--cream), var(--ivory));
  }
  
  .progress {
    height: 12px;
    background: rgba(217, 119, 6, 0.15);
    border-radius: 8px;
    overflow: hidden;
    margin-bottom: 24px;
    border: 1px solid var(--border-gold);
  }
  
  .progress > i {
    display: block;
    height: 100%;
    background: linear-gradient(90deg, var(--sage), var(--gold), var(--saffron));
    width: 0%;
    transition: width 0.5s ease;
    box-shadow: 0 0 10px rgba(5, 150, 105, 0.5);
  }
  
  .result {
    padding: 24px;
    border-radius: 12px;
    background: linear-gradient(135deg, rgba(5, 150, 105, 0.08), rgba(255, 251, 235, 0.9));
    border: 2px solid var(--sage);
    box-shadow: 0 6px 20px rgba(5, 150, 105, 0.15);
  }
  
  .result strong {
    color: var(--sage);
    font-family: 'Cinzel', serif;
    font-size: 22px;
  }
  
  footer {
    margin-top: 48px;
    text-align: center;
    color: var(--text-secondary);
    font-size: 15px;
    padding: 24px;
    border-top: 2px solid var(--border-gold);
    font-style: italic;
  }
  
  .decorative-divider {
    text-align: center;
    margin: 32px 0;
    color: var(--gold);
    font-size: 24px;
    opacity: 0.6;
  }
  
  #conclusion h2 {
    font-family: 'Cinzel', serif;
    color: var(--burgundy);
    font-size: 28px;
    margin-bottom: 16px;
  }
  
  #conclusion p {
    margin-bottom: 12px;
    font-size: 17px;
  }
  
  #qrImage {
    width: 180px;
    border-radius: 12px;
    border: 3px solid var(--border-gold);
    box-shadow: 0 4px 16px rgba(217, 119, 6, 0.2);
    margin-top: 8px;
    background: white;
    padding: 12px;
  }
  
  @media (max-width: 768px) {
    .row {
      grid-template-columns: 1fr;
    }
    
    .wrap {
      padding: 24px 16px;
    }
    
    h1 {
      font-size: 28px;
    }
    
    header {
      padding: 24px 16px;
    }
    
    .card {
      padding: 24px 16px;
    }
    
    .section-title {
      flex-direction: column;
      align-items: flex-start;
      gap: 8px;
    }
  }
  
  /* Mandala pattern background accent */
  .card.question::before {
    content: '';
    position: absolute;
    bottom: 8px;
    right: 8px;
    width: 40px;
    height: 40px;
    background-image: radial-gradient(circle, var(--gold) 1px, transparent 1px);
    background-size: 8px 8px;
    opacity: 0.15;
    pointer-events: none;
  }
</style>
</head>
<body>
<div class="ornamental-border top"></div>
<div class="ornamental-border bottom"></div>

<div class="wrap">
  <header>
    <div class="logo">IISER PUNE</div>
    <h1>Ancient Indian Science & Technology</h1>
    <div class="subtitle">Pre-conference Knowledge Assessment</div>
    <div class="small" style="margin-top: 12px;">Total: 100 points • No time limit</div>
  </header>

  <!-- Participant details -->
  <form id="quizForm" class="card" autocomplete="off" novalidate>
    <div class="section-title">
      <h2>Section I — Participant Details</h2>
      <div class="muted">All fields required</div>
    </div>

    <div class="row" style="margin-bottom:20px">
      <div>
        <label for="fullname">Full Name</label>
        <input id="fullname" name="fullname" type="text" required placeholder="Enter your full name" />
      </div>
      <div>
        <label for="email">Email Address</label>
        <input id="email" name="email" type="email" required placeholder="your.email@example.com" />
      </div>
    </div>

    <div class="row" style="margin-bottom:24px">
      <div>
        <label for="institution">Institution / Organization</label>
        <input id="institution" name="institution" type="text" required placeholder="Your institution name" />
      </div>
      <div>
        <label for="designation">Designation</label>
        <select id="designation" name="designation" required>
          <option value="">Select your designation</option>
          <option>Student</option>
          <option>Faculty</option>
          <option>Researcher</option>
          <option>Other</option>
        </select>
      </div>
    </div>

    <div class="decorative-divider">⚘ ⚘ ⚘</div>

    <!-- Quiz -->
    <div class="section-title">
      <h2>Section II — Assessment Questions</h2>
      <div class="muted">Demonstrate your knowledge</div>
    </div>

    <div class="progress" aria-hidden><i id="progressBar"></i></div>

    <div id="questions">

      <!-- Q1 -->
      <div class="question card" data-q="1" data-points="5">
        <div class="q-title">1. Which ancient Indian text contains early descriptions of surgical techniques and instruments? <span class="small">(5 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q1" value="Sushruta Samhita" required> Sushruta Samhita</label></div>
          <div class="opt"><label><input type="radio" name="q1" value="Charaka Samhita"> Charaka Samhita</label></div>
          <div class="opt"><label><input type="radio" name="q1" value="Arthashastra"> Arthashastra</label></div>
          <div class="opt"><label><input type="radio" name="q1" value="Rigveda"> Rigveda</label></div>
        </div>
      </div>

      <!-- Q2 -->
      <div class="question card" data-q="2" data-points="5">
        <div class="q-title">2. Which ancient Indian scholar is credited with calculating an approximation of π (pi) and describing the concept of zero as a number? <span class="small">(5 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q2" value="Aryabhata" required> Aryabhata</label></div>
          <div class="opt"><label><input type="radio" name="q2" value="Bhaskara I"> Bhaskara I</label></div>
          <div class="opt"><label><input type="radio" name="q2" value="Brahmagupta"> Brahmagupta</label></div>
          <div class="opt"><label><input type="radio" name="q2" value="Varahamihira"> Varahamihira</label></div>
        </div>
      </div>

      <!-- Q3 -->
      <div class="question card" data-q="3" data-points="5">
        <div class="q-title">3. The Iron Pillar of Delhi is notable for which scientific/technological reason? <span class="small">(5 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q3" value="earliest cast iron"> It is the earliest known use of cast iron.</label></div>
          <div class="opt"><label><input type="radio" name="q3" value="corrosion resistant" required> It demonstrates advanced rust-resistant (corrosion-resistant) metallurgy.</label></div>
          <div class="opt"><label><input type="radio" name="q3" value="aluminum alloy"> It contains an early alloy of aluminum.</label></div>
          <div class="opt"><label><input type="radio" name="q3" value="astronomical use"> It was used as an astronomical instrument.</label></div>
        </div>
      </div>

      <!-- Q4 -->
      <div class="question card" data-q="4" data-points="5">
        <div class="q-title">4. Which ancient Indian physician introduced systematic classifications of diseases and wrote the Charaka Samhita? <span class="small">(5 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q4" value="Sushruta" required> Sushruta</label></div>
          <div class="opt"><label><input type="radio" name="q4" value="Charaka"> Charaka</label></div>
          <div class="opt"><label><input type="radio" name="q4" value="Dhanvantari"> Dhanvantari</label></div>
          <div class="opt"><label><input type="radio" name="q4" value="Nagarjuna"> Nagarjuna</label></div>
        </div>
      </div>

      <!-- Q5 -->
      <div class="question card" data-q="5" data-points="5">
        <div class="q-title">5. The ancient university of Nalanda (5th–12th century CE) was primarily known for teaching which subjects? <span class="small">(5 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q5" value="only Buddhist" required> Only Buddhist scriptures</label></div>
          <div class="opt"><label><input type="radio" name="q5" value="wide range"> A wide range including logic, astronomy, medicine, and grammar</label></div>
          <div class="opt"><label><input type="radio" name="q5" value="only medicine"> Only medicine and surgery</label></div>
          <div class="opt"><label><input type="radio" name="q5" value="only math"> Only mathematics and astronomy</label></div>
        </div>
      </div>

      <!-- Q6 (checkboxes) -->
      <div class="question card" data-q="6" data-points="6">
        <div class="q-title">6. Which of the following are contributions from ancient/medieval India to mathematics and astronomy? <span class="small">Select all that apply. (6 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="checkbox" name="q6" value="decimal"> Decimal place-value system</label></div>
          <div class="opt"><label><input type="checkbox" name="q6" value="negative"> Negative numbers</label></div>
          <div class="opt"><label><input type="checkbox" name="q6" value="sine"> Trigonometric sine table</label></div>
          <div class="opt"><label><input type="checkbox" name="q6" value="zero"> Concept of zero as a numeral</label></div>
        </div>
      </div>

      <!-- Q7 short answer -->
      <div class="question card" data-q="7" data-points="6">
        <div class="q-title">7. Name an ancient Indian text considered one of the earliest works on civil engineering and urban planning (e.g., drainage and water supply systems). <span class="small">(6 pts)</span></div>
        <div><input id="q7" name="q7" type="text" placeholder="Example: Shilpa Shastra" /></div>
      </div>

      <!-- Q8 -->
      <div class="question card" data-q="8" data-points="5">
        <div class="q-title">8. Which metallurgical achievement is associated with ancient India's Wootz steel? <span class="small">(5 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q8" value="crucible" required> Early high-carbon crucible steel used for superior blades</label></div>
          <div class="opt"><label><input type="radio" name="q8" value="electric"> Steel produced by electric arc</label></div>
          <div class="opt"><label><input type="radio" name="q8" value="wrought"> Low-carbon wrought iron only</label></div>
          <div class="opt"><label><input type="radio" name="q8" value="bronze"> Bronze casting techniques</label></div>
        </div>
      </div>

      <!-- Q9 true/false -->
      <div class="question card" data-q="9" data-points="4">
        <div class="q-title">9. The Sulba Sutras contain geometric rules used for altar construction and include approximations of square roots. <span class="small">(True / False) (4 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q9" value="True" required> True</label></div>
          <div class="opt"><label><input type="radio" name="q9" value="False"> False</label></div>
        </div>
      </div>

      <!-- Q10 -->
      <div class="question card" data-q="10" data-points="5">
        <div class="q-title">10. Who wrote the astronomical work 'Surya Siddhanta' (in its later Sanskrit form) that influenced Indian astronomy? <span class="small">(5 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q10" value="Varahamihira" required> Varahamihira</label></div>
          <div class="opt"><label><input type="radio" name="q10" value="Charaka"> Charaka</label></div>
          <div class="opt"><label><input type="radio" name="q10" value="Nagarjuna"> Nagarjuna</label></div>
          <div class="opt"><label><input type="radio" name="q10" value="Kautilya"> Kautilya</label></div>
        </div>
      </div>

      <!-- Q11 matching (implemented as selects) -->
      <div class="question card" data-q="11" data-points="10">
        <div class="q-title">11. Match each scholar/term with their field or contribution. <span class="small">(10 pts — 2 points each)</span></div>
        <div class="small" style="margin-bottom:16px">Choose the best match for each person.</div>

        <div style="display:grid;gap:16px">
          <div>
            <label>1. Aryabhata</label>
            <select name="q11_1" required>
              <option value="">Select a match</option>
              <option value="A">Rules on polity, statecraft, and economic administration</option>
              <option value="B">Systematic surgery and surgical instruments</option>
              <option value="C">Rules for arithmetic including zero and negative numbers</option>
              <option value="D">Early work on astronomy and mathematics (including Aryabhatiya)</option>
              <option value="E">Foundational text on internal medicine</option>
            </select>
          </div>

          <div>
            <label>2. Sushruta</label>
            <select name="q11_2" required>
              <option value="">Select a match</option>
              <option value="A">Rules on polity, statecraft, and economic administration</option>
              <option value="B">Systematic surgery and surgical instruments</option>
              <option value="C">Rules for arithmetic including zero and negative numbers</option>
              <option value="D">Early work on astronomy and mathematics (including Aryabhatiya)</option>
              <option value="E">Foundational text on internal medicine</option>
            </select>
          </div>

          <div>
            <label>3. Brahmagupta</label>
            <select name="q11_3" required>
              <option value="">Select a match</option>
              <option value="A">Rules on polity, statecraft, and economic administration</option>
              <option value="B">Systematic surgery and surgical instruments</option>
              <option value="C">Rules for arithmetic including zero and negative numbers</option>
              <option value="D">Early work on astronomy and mathematics (including Aryabhatiya)</option>
              <option value="E">Foundational text on internal medicine</option>
            </select>
          </div>

          <div>
            <label>4. Charaka</label>
            <select name="q11_4" required>
              <option value="">Select a match</option>
              <option value="A">Rules on polity, statecraft, and economic administration</option>
              <option value="B">Systematic surgery and surgical instruments</option>
              <option value="C">Rules for arithmetic including zero and negative numbers</option>
              <option value="D">Early work on astronomy and mathematics (including Aryabhatiya)</option>
              <option value="E">Foundational text on internal medicine</option>
            </select>
          </div>

          <div>
            <label>5. Kautilya (Arthashastra)</label>
            <select name="q11_5" required>
              <option value="">Select a match</option>
              <option value="A">Rules on polity, statecraft, and economic administration</option>
              <option value="B">Systematic surgery and surgical instruments</option>
              <option value="C">Rules for arithmetic including zero and negative numbers</option>
              <option value="D">Early work on astronomy and mathematics (including Aryabhatiya)</option>
              <option value="E">Foundational text on internal medicine</option>
            </select>
          </div>
        </div>
      </div>

      <!-- Q12 -->
      <div class="question card" data-q="12" data-points="5">
        <div class="q-title">12. Which system detailed methods for irrigation, reservoirs, and water management such as stepwells (baolis)? <span class="small">(5 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q12" value="indus-harappan" required> Hydraulic engineering traditions in the Indus Valley and later regional practices</label></div>
          <div class="opt"><label><input type="radio" name="q12" value="greek"> Only Greek-influenced irrigation</label></div>
          <div class="opt"><label><input type="radio" name="q12" value="roman"> Roman techniques imported</label></div>
          <div class="opt"><label><input type="radio" name="q12" value="polynesian"> Polynesian methods</label></div>
        </div>
      </div>

      <!-- Q13 -->
      <div class="question card" data-q="13" data-points="5">
        <div class="q-title">13. The medical method involving systematic observation, diagnosis, prognosis, and treatment is a key feature of which ancient Indian medical system? <span class="small">(5 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q13" value="Ayurveda" required> Ayurveda</label></div>
          <div class="opt"><label><input type="radio" name="q13" value="Homeopathy"> Homeopathy</label></div>
          <div class="opt"><label><input type="radio" name="q13" value="Unani"> Unani</label></div>
          <div class="opt"><label><input type="radio" name="q13" value="Siddha"> Siddha</label></div>
        </div>
      </div>

      <!-- Q14 short answer -->
      <div class="question card" data-q="14" data-points="6">
        <div class="q-title">14. Give one example of an ancient Indian invention or technique related to textiles or dyes (e.g., a fabric, dyeing technique, or loom technology). <span class="small">(6 pts)</span></div>
        <div><input id="q14" name="q14" type="text" placeholder="Example: block printing, indigo dyeing, ikat" /></div>
      </div>

      <!-- Q15 -->
      <div class="question card" data-q="15" data-points="10">
        <div class="q-title">15. Which of the following best explains why ancient Indian astronomers developed detailed mathematical methods? <span class="small">(10 pts)</span></div>
        <div class="options">
          <div class="opt"><label><input type="radio" name="q15" value="ritual" required> For ritual and calendrical accuracy (timing sacrifices, festivals)</label></div>
          <div class="opt"><label><input type="radio" name="q15" value="navigation"> Purely for navigation</label></div>
          <div class="opt"><label><input type="radio" name="q15" value="taxes"> To calculate taxes only</label></div>
          <div class="opt"><label><input type="radio" name="q15" value="entertainment"> As a form of entertainment</label></div>
        </div>
      </div>

      <div class="decorative-divider">⚘ ⚘ ⚘</div>

      <!-- Submit -->
      <div style="display:flex;gap:16px;align-items:center;flex-wrap:wrap;justify-content:center;margin-top:32px">
        <button id="submitBtn" class="btn" type="button">Submit & View Results</button>
        <button id="resetBtn" class="btn secondary" type="button">Reset Form</button>
      </div>
    </div>
  </form>

  <!-- Result area -->
  <div id="resultArea" class="card" style="display:none;margin-top:24px"></div>

  <!-- Conclusion / confirmation -->
  <div id="conclusion" class="card" style="display:none;margin-top:24px">
    <h2>Thank You for Participating!</h2>
    <p>We hope this assessment has enriched your understanding of the vast scientific and technological heritage of ancient India.</p>
    <p style="margin-top:16px">Deepen your knowledge further at the <strong>National Conference on Indian Knowledge Systems</strong> at <strong>IISER Pune</strong> on <strong>7th March 2026</strong>.</p>
    <div style="text-align:center;margin-top:24px">
      <a id="registerLink" class="btn" href="#" target="_blank">Register for the Conference</a>
    </div>
    <div style="margin-top:24px;text-align:center">
      <p class="small" style="margin-bottom:12px">Scan to register:</p>
      <!-- Placeholder QR: replace src with your QR image path -->
      <img id="qrImage" src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Crect fill='%23ffffff' width='200' height='200'/%3E%3Ctext x='50%25' y='50%25' font-size='16' text-anchor='middle' dy='.3em' fill='%23999'%3EQR Code%3C/text%3E%3C/svg%3E" alt="QR code for conference registration" />
    </div>
  </div>

  <footer>
    <p>For backend integration to store responses or email results, consider Firebase, Supabase, or Google Sheets API.</p>
    <p style="margin-top:8px">© 2026 IISER Pune • National Conference on Indian Knowledge Systems</p>
  </footer>
</div>

<script>
/*
  Answer key & scoring logic
  Points: Q1:5 Q2:5 Q3:5 Q4:5 Q5:5 Q6:6 Q7:6 Q8:5 Q9:4 Q10:5 Q11:10 Q12:5 Q13:5 Q14:6 Q15:10
*/
const KEY = {
  q1: "Sushruta Samhita",
  q2: "Aryabhata",
  q3: "corrosion resistant",
  q4: "Charaka",
  q5: "wide range",
  q6: { correct: ["decimal","sine","zero"] }, // three correct values
  q7_accept: ["shilpa shastra","manasollasa","shilpa","manasollasa","shilpa-shastra"], // keywords acceptable
  q8: "crucible",
  q9: "True",
  q10: "Varahamihira",
  q11: { // expects values A-E
    1: "D", // Aryabhata -> D
    2: "B", // Sushruta -> B
    3: "C", // Brahmagupta -> C
    4: "E", // Charaka -> E
    5: "A"  // Kautilya -> A
  },
  q12: "indus-harappan",
  q13: "Ayurveda",
  q14_accept: ["ikat","block printing","kalamkari","indigo","indigo dye","natural indigo","block-printing"],
  q15: "ritual"
};

const pointsMap = {
  1:5,2:5,3:5,4:5,5:5,6:6,7:6,8:5,9:4,10:5,11:10,12:5,13:5,14:6,15:10
};

const form = document.getElementById('quizForm');
const submitBtn = document.getElementById('submitBtn');
const resetBtn = document.getElementById('resetBtn');
const progressBar = document.getElementById('progressBar');
const resultArea = document.getElementById('resultArea');
const conclusion = document.getElementById('conclusion');
const qrImage = document.getElementById('qrImage');
const registerLink = document.getElementById('registerLink');

registerLink.href = "register.html";

function validateParticipant(){
  const fullname = document.getElementById('fullname').value.trim();
  const email = document.getElementById('email').value.trim();
  const inst  = document.getElementById('institution').value.trim();
  const desig = document.getElementById('designation').value;
  if(!fullname || !email || !inst || !desig) return false;
  return true;
}

function updateProgress(){
  const qBlocks = document.querySelectorAll('[data-q]');
  let answered = 0;
  qBlocks.forEach(q=>{
    const name = 'q'+q.dataset.q;
    const inputs = q.querySelectorAll('input, select, textarea');
    let ok = false;
    inputs.forEach(inp=>{
      if((inp.type==='radio' || inp.type==='checkbox') && inp.checked) ok = true;
      if(inp.tagName === 'INPUT' && (inp.type==='text' || inp.type==='email') && inp.value.trim()!=='') ok = true;
      if(inp.tagName === 'SELECT' && inp.value!=='') ok = true;
    });
    if(ok) answered++;
  });
  const pct = Math.round((answered / qBlocks.length) * 100);
  progressBar.style.width = pct + '%';
}

document.querySelectorAll('input, select').forEach(i=>{
  i.addEventListener('change', updateProgress);
});
document.getElementById('q7')?.addEventListener('input', updateProgress);
document.getElementById('q14')?.addEventListener('input', updateProgress);

function scoreForm(){
  let total = 0;
  let details = [];

  function addDetail(q, pts, max, correct, got){
    details.push({q, pts, max, correct, got});
  }

  // Q1..Q5 straightforward radios
  for(let i=1;i<=5;i++){
    const name = 'q'+i;
    const el = form.elements[name];
    const ans = el ? (el.value || '') : '';
    const correct = KEY[name];
    const pts = pointsMap[i];
    if(ans && ans === correct){
      total += pts; addDetail(i, pts, pts, correct, ans);
    } else {
      addDetail(i, 0, pts, correct, ans || null);
    }
  }

  // Q6 checkboxes (6 points)
  const q6boxes = Array.from(form.querySelectorAll('input[name="q6"]'));
  const selected = q6boxes.filter(b=>b.checked).map(b=>b.value);
  const q6Correct = KEY.q6.correct;
  const numCorrect = q6Correct.length;
  let correctSelected = selected.filter(s=>q6Correct.includes(s)).length;
  let incorrectSelected = selected.filter(s=>!q6Correct.includes(s)).length;
  let q6Score = Math.max(0, (correctSelected - incorrectSelected) / numCorrect * pointsMap[6]);
  q6Score = Math.round(q6Score * 100) / 100;
  total += q6Score;
  addDetail(6, q6Score, pointsMap[6], q6Correct.join(', '), selected.join(', ') || null);

  // Q7 short answer (6 points)
  const q7Ans = (form.elements['q7'].value || '').trim().toLowerCase();
  let q7OK = false;
  if(q7Ans.length>0){
    for(const kw of KEY.q7_accept){
      if(q7Ans.includes(kw)) { q7OK = true; break; }
    }
  }
  if(q7OK){ total += pointsMap[7]; addDetail(7, pointsMap[7], pointsMap[7], 'Shilpa Shastra / Manasollasa / similar', form.elements['q7'].value); }
  else addDetail(7, 0, pointsMap[7], 'Shilpa Shastra / Manasollasa / similar', form.elements['q7'].value || null);

  // Q8
  { const ans = form.elements['q8'].value || ''; if(ans === KEY.q8){ total += pointsMap[8]; addDetail(8, pointsMap[8], pointsMap[8], KEY.q8, ans); } else addDetail(8,0,pointsMap[8],KEY.q8,ans||null); }

  // Q9
  { const ans = form.elements['q9'].value || ''; if(ans === KEY.q9){ total += pointsMap[9]; addDetail(9, pointsMap[9], pointsMap[9], KEY.q9, ans); } else addDetail(9,0,pointsMap[9],KEY.q9,ans||null); }

  // Q10
  { const ans = form.elements['q10'].value || ''; if(ans === KEY.q10){ total += pointsMap[10]; addDetail(10, pointsMap[10], pointsMap[10], KEY.q10, ans); } else addDetail(10,0,pointsMap[10],KEY.q10,ans||null); }

  // Q11 matching (10 points -> 2 points each)
  let q11Score = 0;
  for(let i=1;i<=5;i++){
    const val = form.elements['q11_'+i].value || '';
    const correct = KEY.q11[i];
    if(val === correct){ q11Score += pointsMap[11] / 5; }
  }
  q11Score = Math.round(q11Score * 100) / 100;
  total += q11Score;
  addDetail(11, q11Score, pointsMap[11], 'Pairs: 1-D, 2-B, 3-C, 4-E, 5-A', null);

  // Q12
  { const ans = form.elements['q12'].value || ''; if(ans === KEY.q12){ total += pointsMap[12]; addDetail(12, pointsMap[12], pointsMap[12], KEY.q12, ans); } else addDetail(12,0,pointsMap[12],KEY.q12,ans||null); }

  // Q13
  { const ans = form.elements['q13'].value || ''; if(ans === KEY.q13){ total += pointsMap[13]; addDetail(13, pointsMap[13], pointsMap[13], KEY.q13, ans); } else addDetail(13,0,pointsMap[13],KEY.q13,ans||null); }

  // Q14 short answer (6 pts)
  const q14Ans = (form.elements['q14'].value || '').trim().toLowerCase();
  let q14OK = false;
  for(const kw of KEY.q14_accept){
    if(q14Ans.includes(kw)) { q14OK = true; break; }
  }
  if(q14OK){ total += pointsMap[14]; addDetail(14, pointsMap[14], pointsMap[14], 'Examples: ikat, block printing, indigo, kalamkari', form.elements['q14'].value); }
  else addDetail(14,0,pointsMap[14],'Examples: ikat, block printing, indigo, kalamkari', form.elements['q14'].value||null);

  // Q15
  { const ans = form.elements['q15'].value || ''; if(ans === KEY.q15){ total += pointsMap[15]; addDetail(15, pointsMap[15], pointsMap[15], KEY.q15, ans); } else addDetail(15,0,pointsMap[15],KEY.q15,ans||null); }

  total = Math.round(total * 100) / 100;

  return { total, details };
}

function renderResult(scoreObj){
  const { total, details } = scoreObj;
  const name = document.getElementById('fullname').value.trim();
  const inst = document.getElementById('institution').value.trim();
  const designation = document.getElementById('designation').value;
  resultArea.innerHTML = '';

  const out = document.createElement('div');
  out.className = 'result';

  const header = document.createElement('div');
  header.innerHTML = `<strong>Your Score: ${total} / 100</strong>`;
  header.style.marginBottom = '8px';
  if(name) {
    const participantInfo = document.createElement('div');
    participantInfo.style.fontSize = '16px';
    participantInfo.style.marginTop = '8px';
    participantInfo.innerHTML = `${name} • ${designation} • ${inst}`;
    header.appendChild(participantInfo);
  }
  out.appendChild(header);

  const detailList = document.createElement('div');
  detailList.style.marginTop = '20px';
  details.forEach(d=>{
    const el = document.createElement('div');
    el.style.marginBottom = '16px';
    el.style.padding = '14px 16px';
    el.style.background = d.pts > 0 ? 'rgba(44, 95, 79, 0.06)' : 'rgba(107, 39, 55, 0.06)';
    el.style.borderRadius = '8px';
    el.style.border = `2px solid ${d.pts > 0 ? 'rgba(44, 95, 79, 0.25)' : 'rgba(107, 39, 55, 0.25)'}`;
    
    const qtext = `<div style="font-weight:700;margin-bottom:10px;color:var(--text-primary);font-size:17px">Question ${d.q} — ${d.pts}/${d.max} points</div>`;
    const answerText = `<div style="margin-bottom:8px;font-size:15px;color:var(--text-primary)"><span style="font-weight:600">Correct answer:</span> <span style="color:var(--sage);font-weight:500">${d.correct}</span></div>`;
    const yourText = `<div style="font-size:15px;color:var(--text-primary)"><span style="font-weight:600">Your answer:</span> <span style="color:${d.pts>0?'var(--sage)':'var(--burgundy)'};font-weight:500">${d.got === null ? '<em>Not answered</em>' : d.got}</span></div>`;
    el.innerHTML = qtext + answerText + yourText;
    detailList.appendChild(el);
  });
  out.appendChild(detailList);

  const msg = document.createElement('div');
  msg.style.marginTop = '20px';
  msg.style.padding = '16px';
  msg.style.background = 'rgba(184, 134, 11, 0.08)';
  msg.style.borderRadius = '8px';
  msg.style.border = '1px solid rgba(184, 134, 11, 0.2)';
  msg.innerHTML = `<div class="small">This assessment is for educational purposes. To store responses permanently or receive certificates, integrate this form with a backend service (Firebase, Supabase, or Google Sheets).</div>`;
  out.appendChild(msg);

  resultArea.appendChild(out);
  resultArea.style.display = 'block';
  conclusion.style.display = 'block';
  
  setTimeout(() => {
    resultArea.scrollIntoView({behavior:'smooth', block:'start'});
  }, 100);
}

submitBtn.addEventListener('click', ()=>{
  if(!validateParticipant()){
    alert('Please complete all participant details (all fields are required).');
    return;
  }

  const requiredInputs = document.querySelectorAll('[data-q] input[required], [data-q] select[required]');
  for(const req of requiredInputs){
    if(req.type === 'radio'){
      const name = req.name;
      const checked = form.querySelectorAll(`input[name="${name}"]:checked`);
      if(checked.length === 0){
        alert('Please answer all required questions before submitting.');
        return;
      }
    }
    if(req.tagName === 'SELECT' && req.value === ''){
      alert('Please complete all required questions before submitting.');
      return;
    }
  }

  const scoreObj = scoreForm();
  renderResult(scoreObj);
});

resetBtn.addEventListener('click', ()=>{
  if(!confirm('Are you sure you want to reset all answers? This cannot be undone.')) return;
  form.reset();
  resultArea.style.display = 'none';
  conclusion.style.display = 'none';
  updateProgress();
  window.scrollTo({top: 0, behavior: 'smooth'});
});

updateProgress();
</script>
</body>
</html>
